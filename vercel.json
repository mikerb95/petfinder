{
  "version": 2,
  "_comment": "Explicación (ES): Configura 'rewrites' en Vercel. Motivo: servir la landing y activos estáticos directamente, y enviar rutas de app/API a una sola función serverless (api/index.js) con Express. Lógica: Vercel redirige las URLs a /api/index.js donde Express responde, mientras que / y /assets se sirven estáticamente desde /public.",
  "functions": {
    "api/**/*.js": { "runtime": "nodejs20.x" }
  },
  "rewrites": [
    { "source": "/", "destination": "/public/index.html" },
    { "source": "/assets/:path*", "destination": "/public/assets/:path*" },
    { "source": "/api/:path*", "destination": "/api/index.js" },
    { "source": "/p/:path*", "destination": "/api/index.js" },
    { "source": "/login", "destination": "/api/index.js" },
    { "source": "/register", "destination": "/api/index.js" }
  ]
}
